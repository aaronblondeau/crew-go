import{c as x,O as k,R as Q,a as b,h as m,b as f,i as V,r,G as B,H as g,I as h,J as v,K as C,ak as p,M as d,ao as q,ap as P,Q as N,N as A,am as D,an as I,f as K}from"./index.c7f45695.js";import{Q as L}from"./QForm.05ff2839.js";import{Q as R}from"./QPage.71e34232.js";var S=x({name:"QBanner",props:{...k,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(l,{slots:n}){const{proxy:{$q:s}}=V(),u=Q(l,s),o=b(()=>"q-banner row items-center"+(l.dense===!0?" q-banner--dense":"")+(u.value===!0?" q-banner--dark q-dark":"")+(l.rounded===!0?" rounded-borders":"")),i=b(()=>`q-banner__actions row items-center justify-end col-${l.inlineActions===!0?"auto":"all"}`);return()=>{const c=[m("div",{class:"q-banner__avatar col-auto row items-center self-start"},f(n.avatar)),m("div",{class:"q-banner__content col text-body2"},f(n.default))],t=f(n.action);return t!==void 0&&c.push(m("div",{class:i.value},t)),m("div",{class:o.value+(l.inlineActions===!1&&t!==void 0?" q-banner--top-padding":""),role:"alert"},c)}}});const F={class:"q-pa-md"},$=p("h3",{class:"text-h3 text-center"},"Login",-1),E={class:"q-mt-md"},z={__name:"LoginPage",setup(l){const n=r(""),s=r(!0),u=r(""),o=r(""),i=r(!1),c=r(null),t=C(),w=B();async function y(){c.value.validate().then(async _=>{if(_){o.value="",i.value=!0;try{await w.login(u.value,n.value),t.currentRoute.value.query.next?t.replace(t.currentRoute.value.query.next):t.replace({name:"home"})}catch(a){console.error(a),o.value=a.message}finally{i.value=!1}}})}return(_,a)=>(g(),h(R,{class:"flex flex-center"},{default:v(()=>[p("div",F,[d(L,{ref_key:"loginForm",ref:c},{default:v(()=>[$,d(q,{filled:"",modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),type:"email",label:"Email","lazy-rules":"",rules:[e=>e&&e.length>0||"Email must be filled in."]},null,8,["modelValue","rules"]),d(q,{filled:"",modelValue:n.value,"onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),type:s.value?"password":"text",label:"Password",onKeyup:P(y,["enter"]),rules:[e=>e&&e.length>0||"Password must be filled in."]},{append:v(()=>[d(N,{name:s.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=e=>s.value=!s.value)},null,8,["name"])]),_:1},8,["modelValue","type","onKeyup","rules"]),o.value?(g(),h(S,{key:0,"inline-actions":"",class:"text-white bg-red q-mt-md"},{default:v(()=>[A(D(o.value),1)]),_:1})):I("",!0),p("div",E,[d(K,{color:"black",label:"Login",onClick:y,loading:i.value,class:"full-width"},null,8,["loading"])])]),_:1},512)])]),_:1}))}};export{z as default};
