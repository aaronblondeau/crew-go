import{c as Q,a as c,h as f,b as V,u as E,d as J,r as p,e as X,g as Y,w as _,o as N,Q as W,f as z,i as P,s as Z,j as L,k as G,l as ee,m as U,n as O,p as K,q as te,t as ne,v as oe,x as le,y as ae,z as ie,A as re,B as A,C as k,D as se,E as ue,F as ce,G as de,H as fe,I as ve,J as q,K as he,L as F,M as g,N as ge}from"./index.02f105df.js";import{Q as me,a as be,b as I}from"./QMenu.cb96b72d.js";import{Q as D,a as we}from"./QResizeObserver.e4dcc376.js";var ye=Q({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:s}){const l=c(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>f("div",{class:l.value},V(s.default))}}),Se=Q({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:s}){const l=c(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>f("div",{class:l.value},V(s.default))}});const Be=Object.keys(E),qe=e=>Be.reduce((s,l)=>{const n=e[l];return n!==void 0&&(s[l]=n),s},{});var pe=Q({name:"QBtnDropdown",props:{...E,...J,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:s,emit:l}){const{proxy:n}=P(),o=p(e.modelValue),i=p(null),u=X(),m=c(()=>{const t={"aria-expanded":o.value===!0?"true":"false","aria-haspopup":"true","aria-controls":u,"aria-label":e.toggleAriaLabel||n.$q.lang.label[o.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(t["aria-disabled"]="true"),t}),b=c(()=>"q-btn-dropdown__arrow"+(o.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),d=c(()=>Y(e)),y=c(()=>qe(e));_(()=>e.modelValue,t=>{i.value!==null&&i.value[t?"show":"hide"]()}),_(()=>e.split,v);function S(t){o.value=!0,l("beforeShow",t)}function B(t){l("show",t),l("update:modelValue",!0)}function r(t){o.value=!1,l("beforeHide",t)}function w(t){l("hide",t),l("update:modelValue",!1)}function T(t){l("click",t)}function $(t){Z(t),v(),l("click",t)}function C(t){i.value!==null&&i.value.toggle(t)}function a(t){i.value!==null&&i.value.show(t)}function v(t){i.value!==null&&i.value.hide(t)}return Object.assign(n,{show:a,hide:v,toggle:C}),N(()=>{e.modelValue===!0&&a()}),()=>{const t=[f(W,{class:b.value,name:e.dropdownIcon||n.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&t.push(f(me,{ref:i,id:u,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:S,onShow:B,onBeforeHide:r,onHide:w},s.default)),e.split===!1?f(z,{class:"q-btn-dropdown q-btn-dropdown--simple",...y.value,...m.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:T},{default:()=>V(s.label,[]).concat(t),loading:s.loading}):f(Se,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...d.value,glossy:e.glossy,stretch:e.stretch},()=>[f(z,{class:"q-btn-dropdown--current",...y.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:$},{default:s.label,loading:s.loading}),f(z,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...m.value,...d.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>t)])}}}),_e=Q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:s,emit:l}){const{proxy:{$q:n}}=P(),o=U(O,L);if(o===L)return console.error("QHeader needs to be child of QLayout"),L;const i=p(parseInt(e.heightHint,10)),u=p(!0),m=c(()=>e.reveal===!0||o.view.value.indexOf("H")>-1||n.platform.is.ios&&o.isContainer.value===!0),b=c(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return u.value===!0?i.value:0;const a=i.value-o.scroll.value.position;return a>0?a:0}),d=c(()=>e.modelValue!==!0||m.value===!0&&u.value!==!0),y=c(()=>e.modelValue===!0&&d.value===!0&&e.reveal===!0),S=c(()=>"q-header q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(d.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),B=c(()=>{const a=o.rows.value.top,v={};return a[0]==="l"&&o.left.space===!0&&(v[n.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),a[2]==="r"&&o.right.space===!0&&(v[n.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),v});function r(a,v){o.update("header",a,v)}function w(a,v){a.value!==v&&(a.value=v)}function T({height:a}){w(i,a),r("size",a)}function $(a){y.value===!0&&w(u,!0),l("focusin",a)}_(()=>e.modelValue,a=>{r("space",a),w(u,!0),o.animate()}),_(b,a=>{r("offset",a)}),_(()=>e.reveal,a=>{a===!1&&w(u,e.modelValue)}),_(u,a=>{o.animate(),l("reveal",a)}),_(o.scroll,a=>{e.reveal===!0&&w(u,a.direction==="up"||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const C={};return o.instances.header=C,e.modelValue===!0&&r("size",i.value),r("space",e.modelValue),r("offset",b.value),G(()=>{o.instances.header===C&&(o.instances.header=void 0,r("size",0),r("offset",0),r("space",!1))}),()=>{const a=ee(s.default,[]);return e.elevated===!0&&a.push(f("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(f(D,{debounce:0,onResize:T})),f("header",{class:S.value,style:B.value,onFocusin:$},a)}}}),Ce=Q({name:"QPageContainer",setup(e,{slots:s}){const{proxy:{$q:l}}=P(),n=U(O,L);if(n===L)return console.error("QPageContainer needs to be child of QLayout"),L;K(te,!0);const o=c(()=>{const i={};return n.header.space===!0&&(i.paddingTop=`${n.header.size}px`),n.right.space===!0&&(i[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(i.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(i[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),i});return()=>f("div",{class:"q-page-container",style:o.value},V(s.default))}});const{passive:j}=le,xe=["both","horizontal","vertical"];var ze=Q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>xe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:s}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,o,i;_(()=>e.scrollTarget,()=>{b(),m()});function u(){n!==null&&n();const S=Math.max(0,ae(o)),B=ie(o),r={top:S-l.position.top,left:B-l.position.left};if(e.axis==="vertical"&&r.top===0||e.axis==="horizontal"&&r.left===0)return;const w=Math.abs(r.top)>=Math.abs(r.left)?r.top<0?"up":"down":r.left<0?"left":"right";l.position={top:S,left:B},l.directionChanged=l.direction!==w,l.delta=r,l.directionChanged===!0&&(l.direction=w,l.inflectionPoint=l.position),s("scroll",{...l})}function m(){o=oe(i,e.scrollTarget),o.addEventListener("scroll",d,j),d(!0)}function b(){o!==void 0&&(o.removeEventListener("scroll",d,j),o=void 0)}function d(S){if(S===!0||e.debounce===0||e.debounce==="0")u();else if(n===null){const[B,r]=e.debounce?[setTimeout(u,e.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];n=()=>{r(B),n=null}}}const{proxy:y}=P();return _(()=>y.$q.lang.rtl,u),N(()=>{i=y.$el.parentNode,m()}),G(()=>{n!==null&&n(),b()}),Object.assign(y,{trigger:d,getPosition:()=>l}),ne}}),Qe=Q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:s,emit:l}){const{proxy:{$q:n}}=P(),o=p(null),i=p(n.screen.height),u=p(e.container===!0?0:n.screen.width),m=p({position:0,direction:"down",inflectionPoint:0}),b=p(0),d=p(re.value===!0?0:A()),y=c(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),S=c(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),B=c(()=>d.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${d.value}px`}:null),r=c(()=>d.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${d.value}px`,width:`calc(100% + ${d.value}px)`}:null);function w(t){if(e.container===!0||document.qScrollPrevented!==!0){const h={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};m.value=h,e.onScroll!==void 0&&l("scroll",h)}}function T(t){const{height:h,width:x}=t;let H=!1;i.value!==h&&(H=!0,i.value=h,e.onScrollHeight!==void 0&&l("scrollHeight",h),C()),u.value!==x&&(H=!0,u.value=x),H===!0&&e.onResize!==void 0&&l("resize",t)}function $({height:t}){b.value!==t&&(b.value=t,C())}function C(){if(e.container===!0){const t=i.value>b.value?A():0;d.value!==t&&(d.value=t)}}let a=null;const v={instances:{},view:c(()=>e.view),isContainer:c(()=>e.container),rootRef:o,height:i,containerHeight:b,scrollbarWidth:d,totalWidth:c(()=>u.value+d.value),rows:c(()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}}),header:k({size:0,offset:0,space:!1}),right:k({size:300,offset:0,space:!1}),footer:k({size:0,offset:0,space:!1}),left:k({size:300,offset:0,space:!1}),scroll:m,animate(){a!==null?clearTimeout(a):document.body.classList.add("q-body--layout-animate"),a=setTimeout(()=>{a=null,document.body.classList.remove("q-body--layout-animate")},155)},update(t,h,x){v[t][h]=x}};if(K(O,v),A()>0){let x=function(){t=null,h.classList.remove("hide-scrollbar")},H=function(){if(t===null){if(h.scrollHeight>n.screen.height)return;h.classList.add("hide-scrollbar")}else clearTimeout(t);t=setTimeout(x,300)},R=function(M){t!==null&&M==="remove"&&(clearTimeout(t),x()),window[`${M}EventListener`]("resize",H)},t=null;const h=document.body;_(()=>e.container!==!0?"add":"remove",R),e.container!==!0&&R("add"),se(()=>{R("remove")})}return()=>{const t=ue(s.default,[f(ze,{onScroll:w}),f(D,{onResize:T})]),h=f("div",{class:y.value,style:S.value,ref:e.container===!0?void 0:o,tabindex:-1},t);return e.container===!0?f("div",{class:"q-layout-container overflow-hidden",ref:o},[f(D,{onResize:$}),f("div",{class:"absolute-full",style:B.value},[f("div",{class:"scroll",style:r.value},[h])])]):h}}});const He=ce({__name:"MainLayout",setup(e){const s=he(),l=de();async function n(){await l.logout(),s.push({name:"login"})}return(o,i)=>{const u=F("router-link"),m=F("router-view");return fe(),ve(Qe,{view:"lHh Lpr lFf"},{default:q(()=>[g(_e,{elevated:""},{default:q(()=>[g(we,{ref:"toolbar"},{default:q(()=>[g(W,{name:"task_alt",size:"md"}),g(ye,null,{default:q(()=>[g(u,{to:{name:"home"},style:{"text-decoration":"none",color:"white"}},{default:q(()=>[ge(" CrewGo ")]),_:1})]),_:1}),g(z,{stretch:"",flat:"",label:"Task Groups",class:"gt-sm",to:{name:"home"}}),g(z,{stretch:"",flat:"",label:"Logout",class:"gt-sm",onClick:n}),g(pe,{stretch:"",flat:"",class:"lt-md","dropdown-icon":"more_vert"},{default:q(()=>[g(be,null,{default:q(()=>[g(I,null,{default:q(()=>[g(z,{stretch:"",flat:"",label:"Task Groups",to:{name:"home"}})]),_:1}),g(I,null,{default:q(()=>[g(z,{stretch:"",flat:"",label:"Logout",onClick:n})]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),g(Ce,null,{default:q(()=>[g(m)]),_:1})]),_:1})}}});export{He as default};
